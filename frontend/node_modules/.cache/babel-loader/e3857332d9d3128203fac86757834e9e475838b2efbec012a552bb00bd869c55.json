{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jacky\\\\PycharmProjects\\\\pro_pic\\\\frontend\\\\src\\\\pages\\\\SearchPage.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/SearchPage.jsx\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchPage() {\n  _s();\n  const [filters, setFilters] = useState({\n    supplier: '',\n    product_code: '',\n    variant: ''\n  });\n  const [results, setResults] = useState([]);\n  const handleChange = e => {\n    setFilters({\n      ...filters,\n      [e.target.name]: e.target.value\n    });\n  };\n  const doSearch = async () => {\n    const params = new URLSearchParams(filters);\n    const res = await axios.get(`http://127.0.0.1:5000/api/user/products?${params}`);\n    setResults(res.data);\n  };\n  const exportExcel = () => {\n    const params = new URLSearchParams(filters);\n    window.location = `http://127.0.0.1:5000/api/user/products/export?${params}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 800,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Search Products\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 8,\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"supplier\",\n        placeholder: \"Supplier\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"product_code\",\n        placeholder: \"Code\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"variant\",\n        placeholder: \"Variant\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: doSearch,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: exportExcel,\n      children: \"Export to Excel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      border: \"1\",\n      cellPadding: \"4\",\n      style: {\n        width: '100%',\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: ['Supplier', 'Code', 'Variant', 'Cost', 'Updated', 'Remark', 'Proposed', 'Image'].map(h => /*#__PURE__*/_jsxDEV(\"th\", {\n            children: h\n          }, h, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: results.map(r => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.supplier\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.product_code\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.variant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.cost\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: new Date(r.date_updated).toLocaleString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.remark\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.proposed_selling_price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: r.image_url && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: r.image_url,\n              alt: \"\",\n              width: 50\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 15\n          }, this)]\n        }, r.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(SearchPage, \"QNQRmDv0B4kVWckVAT7j5GoOgGQ=\");\n_c = SearchPage;\nvar _c;\n$RefreshReg$(_c, \"SearchPage\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","SearchPage","_s","filters","setFilters","supplier","product_code","variant","results","setResults","handleChange","e","target","name","value","doSearch","params","URLSearchParams","res","get","data","exportExcel","window","location","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","marginBottom","placeholder","onChange","onClick","border","cellPadding","width","marginTop","map","h","r","cost","Date","date_updated","toLocaleString","remark","proposed_selling_price","image_url","src","alt","id","_c","$RefreshReg$"],"sources":["C:/Users/jacky/PycharmProjects/pro_pic/frontend/src/pages/SearchPage.jsx"],"sourcesContent":["// frontend/src/pages/SearchPage.jsx\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function SearchPage() {\r\n  const [filters, setFilters] = useState({ supplier: '', product_code: '', variant: '' });\r\n  const [results, setResults] = useState([]);\r\n\r\n  const handleChange = e => {\r\n    setFilters({ ...filters, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const doSearch = async () => {\r\n    const params = new URLSearchParams(filters);\r\n    const res = await axios.get(`http://127.0.0.1:5000/api/user/products?${params}`);\r\n    setResults(res.data);\r\n  };\r\n\r\n  const exportExcel = () => {\r\n    const params = new URLSearchParams(filters);\r\n    window.location = `http://127.0.0.1:5000/api/user/products/export?${params}`;\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 800, margin: '0 auto' }}>\r\n      <h2>Search Products</h2>\r\n      <div style={{ display:'flex', gap:8, marginBottom:16 }}>\r\n        <input name=\"supplier\" placeholder=\"Supplier\" onChange={handleChange} />\r\n        <input name=\"product_code\" placeholder=\"Code\" onChange={handleChange} />\r\n        <input name=\"variant\" placeholder=\"Variant\" onChange={handleChange} />\r\n        <button onClick={doSearch}>Search</button>\r\n      </div>\r\n\r\n      <button onClick={exportExcel}>Export to Excel</button>\r\n\r\n      <table border=\"1\" cellPadding=\"4\" style={{ width:'100%', marginTop:16 }}>\r\n        <thead>\r\n          <tr>\r\n            {['Supplier','Code','Variant','Cost','Updated','Remark','Proposed','Image'].map(h => (\r\n              <th key={h}>{h}</th>\r\n            ))}\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {results.map(r => (\r\n            <tr key={r.id}>\r\n              <td>{r.supplier}</td>\r\n              <td>{r.product_code}</td>\r\n              <td>{r.variant}</td>\r\n              <td>{r.cost}</td>\r\n              <td>{new Date(r.date_updated).toLocaleString()}</td>\r\n              <td>{r.remark}</td>\r\n              <td>{r.proposed_selling_price}</td>\r\n              <td>\r\n                {r.image_url && <img src={r.image_url} alt=\"\" width={50} />}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}