{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jacky\\\\PycharmProjects\\\\pro_pic\\\\frontend\\\\src\\\\pages\\\\AdminInput.jsx\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AdminInput.jsx\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminInput() {\n  _s();\n  const [form, setForm] = useState({\n    supplier: '',\n    product_code: '',\n    variant: '',\n    cost: '',\n    remark: '',\n    proposed_selling_price: ''\n  });\n  const [imageFile, setImageFile] = useState(null);\n  const [bulkFile, setBulkFile] = useState(null);\n  const [message, setMessage] = useState('');\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleImage = e => {\n    setImageFile(e.target.files[0]);\n  };\n  const handleBulk = e => {\n    setBulkFile(e.target.files[0]);\n  };\n  const submitSingle = async e => {\n    e.preventDefault();\n    const data = new FormData();\n    Object.entries(form).forEach(([k, v]) => data.append(k, v));\n    if (imageFile) data.append('image', imageFile);\n    try {\n      const res = await axios.post('http://127.0.0.1:5000/api/admin/products', data);\n      setMessage(`Saved id=${res.data.id}`);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMessage(`Error: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || err.message}`);\n    }\n  };\n  const submitBulk = async e => {\n    e.preventDefault();\n    if (!bulkFile) return setMessage('Select a file first');\n    const data = new FormData();\n    data.append('file', bulkFile);\n    try {\n      const res = await axios.post('http://127.0.0.1:5000/api/admin/products/bulk-upload', data);\n      setMessage(`Bulk: created ${res.data.created}, updated ${res.data.updated}`);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      setMessage(`Error: ${((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || err.message}`);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 600,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Add / Update Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitSingle,\n      style: {\n        display: 'grid',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"supplier\",\n        placeholder: \"Supplier\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"product_code\",\n        placeholder: \"Product Code\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"variant\",\n        placeholder: \"Variant\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"cost\",\n        placeholder: \"Cost\",\n        type: \"number\",\n        step: \"0.01\",\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"proposed_selling_price\",\n        placeholder: \"Proposed Price\",\n        type: \"number\",\n        step: \"0.01\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"remark\",\n        placeholder: \"Remark\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Image: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \"image/*\",\n          onChange: handleImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Bulk Upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitBulk,\n      style: {\n        display: 'grid',\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Excel File: \", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".xlsx\",\n          onChange: handleBulk\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminInput, \"Opf9BITTyOR7T1u+nITh/itp7QU=\");\n_c = AdminInput;\nvar _c;\n$RefreshReg$(_c, \"AdminInput\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AdminInput","_s","form","setForm","supplier","product_code","variant","cost","remark","proposed_selling_price","imageFile","setImageFile","bulkFile","setBulkFile","message","setMessage","handleChange","e","target","name","value","handleImage","files","handleBulk","submitSingle","preventDefault","data","FormData","Object","entries","forEach","k","v","append","res","post","id","err","_err$response","_err$response$data","response","error","submitBulk","created","updated","_err$response2","_err$response2$data","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","gap","placeholder","onChange","required","type","step","accept","_c","$RefreshReg$"],"sources":["C:/Users/jacky/PycharmProjects/pro_pic/frontend/src/pages/AdminInput.jsx"],"sourcesContent":["// frontend/src/pages/AdminInput.jsx\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nexport default function AdminInput() {\r\n  const [form, setForm] = useState({\r\n    supplier: '',\r\n    product_code: '',\r\n    variant: '',\r\n    cost: '',\r\n    remark: '',\r\n    proposed_selling_price: '',\r\n  });\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [bulkFile, setBulkFile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleChange = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleImage = e => {\r\n    setImageFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleBulk = e => {\r\n    setBulkFile(e.target.files[0]);\r\n  };\r\n\r\n  const submitSingle = async e => {\r\n    e.preventDefault();\r\n    const data = new FormData();\r\n    Object.entries(form).forEach(([k,v]) => data.append(k, v));\r\n    if (imageFile) data.append('image', imageFile);\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        'http://127.0.0.1:5000/api/admin/products',\r\n        data\r\n      );\r\n      setMessage(`Saved id=${res.data.id}`);\r\n    } catch (err) {\r\n      setMessage(`Error: ${err.response?.data?.error || err.message}`);\r\n    }\r\n  };\r\n\r\n  const submitBulk = async e => {\r\n    e.preventDefault();\r\n    if (!bulkFile) return setMessage('Select a file first');\r\n    const data = new FormData();\r\n    data.append('file', bulkFile);\r\n    try {\r\n      const res = await axios.post(\r\n        'http://127.0.0.1:5000/api/admin/products/bulk-upload',\r\n        data\r\n      );\r\n      setMessage(`Bulk: created ${res.data.created}, updated ${res.data.updated}`);\r\n    } catch (err) {\r\n      setMessage(`Error: ${err.response?.data?.error || err.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 600, margin: '0 auto' }}>\r\n      <h2>Add / Update Product</h2>\r\n      <form onSubmit={submitSingle} style={{ display: 'grid', gap: 8 }}>\r\n        <input name=\"supplier\" placeholder=\"Supplier\" onChange={handleChange} required />\r\n        <input name=\"product_code\" placeholder=\"Product Code\" onChange={handleChange} required />\r\n        <input name=\"variant\" placeholder=\"Variant\" onChange={handleChange} />\r\n        <input name=\"cost\" placeholder=\"Cost\" type=\"number\" step=\"0.01\" onChange={handleChange} required />\r\n        <input name=\"proposed_selling_price\" placeholder=\"Proposed Price\" type=\"number\" step=\"0.01\" onChange={handleChange} />\r\n        <textarea name=\"remark\" placeholder=\"Remark\" onChange={handleChange} />\r\n        <label>\r\n          Image: <input type=\"file\" accept=\"image/*\" onChange={handleImage} />\r\n        </label>\r\n        <button type=\"submit\">Save</button>\r\n      </form>\r\n\r\n      <hr/>\r\n\r\n      <h2>Bulk Upload</h2>\r\n      <form onSubmit={submitBulk} style={{ display: 'grid', gap: 8 }}>\r\n        <label>\r\n          Excel File: <input type=\"file\" accept=\".xlsx\" onChange={handleBulk} />\r\n        </label>\r\n        <button type=\"submit\">Upload</button>\r\n      </form>\r\n\r\n      {message && <p>{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}